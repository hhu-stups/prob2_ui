<?xml version="1.0" encoding="UTF-8"?>

<?import de.prob2.ui.animation.tracereplay.interactive.InteractiveTraceReplayView?>
<?import de.prob2.ui.animation.tracereplay.ReplayedTraceTable?>
<?import de.prob2.ui.error.ErrorTableView?>
<?import de.prob2.ui.layout.BindableGlyph?>
<?import de.prob2.ui.layout.FontSize?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ButtonBar?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<fx:root type="InteractiveTraceReplayView" xmlns:fx="http://javafx.com/fxml/1"
		 text="%menu.advanced.items.interactiveTraceReplay" animated="false">
	<fx:define>
		<FontSize fx:id="fontSize"/>
	</fx:define>
	<VBox spacing="5">
		<HBox spacing="20">
			<TextField fx:id="fileLocationField" HBox.hgrow="always" editable="false">
				<tooltip>
					<Tooltip fx:id="fileLocationTooltip" showDuration="1m"/>
				</tooltip>
			</TextField>
			<Button styleClass="button-dark2" text="%project.newProjectStage.buttons.selectLocation"
					onAction="#selectTraceFile"/>
			<padding>
				<Insets top="10" left="15" bottom="10" right="15"/>
			</padding>
		</HBox>
		<AnchorPane styleClass="border" VBox.vgrow="ALWAYS">
			<VBox AnchorPane.leftAnchor="15" AnchorPane.rightAnchor="15"
				  AnchorPane.topAnchor="15" AnchorPane.bottomAnchor="20" alignment="CENTER">
				<ReplayedTraceTable fx:id="traceTable" VBox.vgrow="ALWAYS"/>
				<ErrorTableView fx:id="errorTable"/>
				<HBox alignment="CENTER_RIGHT">
					<CheckBox fx:id="checkBoxPrecision" text="%animation.tracereplay.interactive.precision.checkBox.label"/>
					<ChoiceBox fx:id="cbPrecision">
						<HBox.margin>
							<Insets left="10"/>
						</HBox.margin>
					</ChoiceBox>
					<VBox.margin>
						<Insets top="20"/>
					</VBox.margin>
				</HBox>
				<HBox alignment="CENTER_LEFT">
					<Label fx:id="warningNotFinished" text="%animation.tracereplay.interactive.warning.notFinished"
						   textAlignment="CENTER" visible="false" style="-fx-text-fill: firebrick;" wrapText="true"
						   VBox.vgrow="NEVER" HBox.hgrow="NEVER"/>
					<ButtonBar styleClass="dialog" HBox.hgrow="ALWAYS">
						<buttons>
							<Button fx:id="btnRestart" text="%animation.tracereplay.interactive.button.restart" onAction="#restart" disable="true">
								<graphic>
									<BindableGlyph styleClass="icon-dark" fontFamily="FontAwesome" icon="UNDO" bindableFontSize="${fontSize.fontSize * 1.5 + 2}"/>
								</graphic>
								<tooltip>
									<Tooltip text="%animation.tracereplay.interactive.button.tooltip.restart"/>
								</tooltip>
							</Button>
							<Button fx:id="btnUndoStep" text="%animation.tracereplay.interactive.button.undoStep" onAction="#undoLastStep" disable="true">
								<graphic>
									<BindableGlyph styleClass="icon-dark" fontFamily="FontAwesome" icon="ANGLE_LEFT" bindableFontSize="${fontSize.fontSize * 1.5 + 2}"/>
								</graphic>
								<tooltip>
									<Tooltip text="%animation.tracereplay.interactive.button.tooltip.undoStep"/>
								</tooltip>
							</Button>
							<Button fx:id="btnCurrentStep" text="%animation.tracereplay.interactive.button.currentStep" onAction="#currentStep" disable="true">
								<graphic>
									<BindableGlyph styleClass="icon-dark" fontFamily="FontAwesome" icon="ANGLE_RIGHT" bindableFontSize="${fontSize.fontSize * 1.5 + 2}"/>
								</graphic>
								<tooltip>
									<Tooltip text="%animation.tracereplay.interactive.button.tooltip.currentStep"/>
								</tooltip>
							</Button>
							<Button fx:id="btnFastForward" text="%animation.tracereplay.interactive.button.fastForward" onAction="#fastForward" disable="true">
								<graphic>
									<BindableGlyph styleClass="icon-dark" alignment="CENTER" textAlignment="CENTER" fontFamily="FontAwesome" icon="ANGLE_DOUBLE_RIGHT" bindableFontSize="${fontSize.fontSize * 1.5 + 2}"/>
								</graphic>
								<tooltip>
									<Tooltip text="%animation.tracereplay.interactive.button.tooltip.fastForward"/>
								</tooltip>
							</Button>
							<Button fx:id="btnSkip" text="%animation.tracereplay.interactive.button.skip" onAction="#skipStep" disable="true">
								<graphic>
									<BindableGlyph styleClass="icon-dark" alignment="CENTER" textAlignment="CENTER" fontFamily="FontAwesome" icon="SHARE" bindableFontSize="${fontSize.fontSize * 1.5 + 2}"/>
								</graphic>
								<tooltip>
									<Tooltip text="%animation.tracereplay.interactive.button.tooltip.skip"/>
								</tooltip>
							</Button>
						</buttons>
					</ButtonBar>
					<VBox.margin>
						<Insets top="15"/>
					</VBox.margin>
				</HBox>
			</VBox>
		</AnchorPane>
		<HBox alignment="CENTER">
			<HBox alignment="CENTER">
				<Label fx:id="progressLabel">
					<padding>
						<Insets right="40"/>
					</padding>
				</Label>
				<ProgressBar fx:id="progressBar" progress="0" HBox.hgrow="ALWAYS" prefWidth="400" visible="false"/>
				<padding>
					<Insets left="25" right="40"/>
				</padding>
			</HBox>
			<ButtonBar styleClass="dialog" HBox.hgrow="ALWAYS">
				<buttons>
					<Button fx:id="btnSave" text="%common.buttons.saveTrace" onAction="#saveTrace" disable="true">
						<graphic>
							<BindableGlyph styleClass="icon-dark" fontFamily="FontAwesome" icon="SAVE"
										   bindableFontSize="${fontSize.fontSize + 2}"/>
						</graphic>
						<tooltip>
							<Tooltip text="%common.buttons.saveTrace"/>
						</tooltip>
					</Button>
					<Button fx:id="btnFinish" text="%common.buttons.finish" cancelButton="true" onAction="#finish"/>
				</buttons>
				<padding>
					<Insets left="15" right="15"/>
				</padding>
			</ButtonBar>
			<VBox.margin>
				<Insets top="10" bottom="5"/>
			</VBox.margin>
		</HBox>
	</VBox>
</fx:root>
